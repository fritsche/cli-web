(this["webpackJsonpcli-frontend"]=this["webpackJsonpcli-frontend"]||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/logo.90f64a36.png"},33:function(e,t,a){e.exports=a(62)},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),o=a.n(l),c=a(15),i=a(10),u=a(5),s=a.n(u),m=a(9),d=a(2),p=a(29),f=a.n(p).a.create({baseURL:"https://backppv.herokuapp.com",timeout:3e4}),b=a(12),h=a.n(b);function g(e){var t=e.history,a=Object(n.useState)(""),l=Object(d.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)(""),p=Object(d.a)(u,2),b=p[0],g=p[1],v=Object(n.useState)(""),E=Object(d.a)(v,2),j=E[0],O=E[1],S=Object(n.useState)(""),X=Object(d.a)(S,2),y=X[0],C=X[1],x=Object(n.useState)(""),F=Object(d.a)(x,2),A=F[0],I=F[1],w=Object(n.useState)(!1),D=Object(d.a)(w,2),N=D[0],M=D[1];function _(){var e=!0;if(b?C(""):(C("Informe a CNH."),e=!1),j){I("");var t=/[^\d]/,a=/^\s+|\s+$/g;if(10!==j.length)I("Data fora do padr\xe3o DD/MM/AAAA."),e=!1;else{var n=j.split("/");3!==n.length?(I("Data fora do padr\xe3o DD/MM/AAAA."),e=!1):(n[0]=n[0].replace(a,""),n[1]=n[1].replace(a,""),n[2]=n[2].replace(a,""),2===n[0].length&&2===n[1].length&&4===n[2].length||(I("Data fora do padr\xe3o DD/MM/AAAA"),e=!1),(t.test(n[0])||t.test(n[1])||t.test(n[2]))&&(I("Caracter inv\xe1lido encontrado!"),e=!1))}}else I("Informe a data de nascimento."),e=!1;return e}function z(){return(z=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(""),a.preventDefault(),_()&&(M(!0),f.get("/login",{headers:{cnh:b,nascimento:j}}).then((function(e){M(!1);var a=e.data.dados._id;localStorage.setItem("@webppv/aluno_id",a),t&&t.push("/")})).catch((function(e){M(!1),e.response&&i(e.response.data.msg)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:h.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return localStorage.removeItem("@webppv/aluno_id"),void localStorage.removeItem("@webppv/turma_id")}}),r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:function(e){return z.apply(this,arguments)}},r.a.createElement("label",{htmlFor:"cnh"},"CNH*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},y),r.a.createElement("input",{type:"text",id:"cnh",placeholder:"CNH",onChange:function(e){return g(e.target.value)},value:b}),r.a.createElement("label",{htmlFor:"nascimento"},"Data de nascimento*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},A),r.a.createElement("input",{type:"text",id:"nascimento",placeholder:"Data de nascimento",onChange:function(e){return O(e.target.value)},value:j}),r.a.createElement("div",{style:{fontSize:12,color:"red"}},o),r.a.createElement("button",{type:"submit",disabled:N},N&&r.a.createElement("i",{className:"fa fa-refresh fa-spin"}),"Entrar")),r.a.createElement("p",null),r.a.createElement(c.b,{to:"/cad"},r.a.createElement("button",null,"Cadastro")))))}function v(e){var t=e.history,a=Object(n.useState)(""),l=Object(d.a)(a,2),o=l[0],c=l[1],i=Object(n.useState)(""),u=Object(d.a)(i,2),p=u[0],b=u[1],g=Object(n.useState)(""),v=Object(d.a)(g,2),E=v[0],j=v[1],O=Object(n.useState)(""),S=Object(d.a)(O,2),X=S[0],y=S[1],C=Object(n.useState)(""),x=Object(d.a)(C,2),F=x[0],A=x[1],I=Object(n.useState)(""),w=Object(d.a)(I,2),D=w[0],N=w[1],M=Object(n.useState)(""),_=Object(d.a)(M,2),z=_[0],k=_[1],P=Object(n.useState)(""),H=Object(d.a)(P,2),V=H[0],J=H[1],W=Object(n.useState)(""),R=Object(d.a)(W,2),U=R[0],G=R[1],L=Object(n.useState)(""),T=Object(d.a)(L,2),$=T[0],q=T[1],B=Object(n.useState)(""),Y=Object(d.a)(B,2),Z=Y[0],K=Y[1],Q=Object(n.useState)(""),ee=Object(d.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),re=Object(d.a)(ne,2),le=re[0],oe=re[1],ce=Object(n.useState)(""),ie=Object(d.a)(ce,2),ue=ie[0],se=ie[1],me=Object(n.useState)(""),de=Object(d.a)(me,2),pe=de[0],fe=de[1],be=Object(n.useState)(""),he=Object(d.a)(be,2),ge=he[0],ve=he[1],Ee=Object(n.useState)(""),je=Object(d.a)(Ee,2),Oe=je[0],Se=je[1],Xe=Object(n.useState)(""),ye=Object(d.a)(Xe,2),Ce=ye[0],xe=ye[1],Fe=Object(n.useState)(""),Ae=Object(d.a)(Fe,2),Ie=Ae[0],we=Ae[1],De=Object(n.useState)(""),Ne=Object(d.a)(De,2),Me=Ne[0],_e=Ne[1],ze=Object(n.useState)(""),ke=Object(d.a)(ze,2),Pe=ke[0],He=ke[1],Ve=Object(n.useState)(""),Je=Object(d.a)(Ve,2),We=Je[0],Re=Je[1],Ue=Object(n.useState)(""),Ge=Object(d.a)(Ue,2),Le=Ge[0],Te=Ge[1],$e=Object(n.useState)(!1),qe=Object(d.a)($e,2),Be=qe[0],Ye=qe[1];function Ze(){var e=!0;if(We){Te(""),8!==We.length&&(Te("Placa fora do padr\xe3o XXX-XXXX."),e=!1);/^[a-z,A-Z]{3}-\d.\d{2}/.test(We)||(Te("Placa fora do padr\xe3o XXX-XXXX."),e=!1)}else Te("Informe a placa da moto no padr\xe3o XXX-XXXX."),e=!1;if(Ce?we(""):(we("Informe o email."),e=!1),pe?ve(""):(ve("Informe o WhastApp."),e=!1),Z?(ae(""),2!==Z.length&&(ae("Informe a sigla da unidade federativa da CNH."),e=!1)):(ae("Informe a Unidade Federativa da CNH."),e=!1),F?N(""):(N("Informe o rg."),e=!1),E){y("");var t=E.split(".");if(3!==t.length)y("Informe o CPF no formato XXX.XXX.XXX-XX"),e=!1;else 2!==t[2].split("-").length?(y("Informe o d\xedgito do CPF."),e=!1):function(e){if("00000000000"===(e=(e=e[0]+e[1]+e[2]+e[3]).split("")))return!1;var t,a,n;for(t=0,n=0;n<9;n++)t+=e[n]*(10-n);if(10!==(a=10*t%11)&&11!==a||(a=0),a!==parseInt(e[9]))return!1;for(t=0,n=0;n<10;n++)t+=e[n]*(11-n);return 10!==(a=10*t%11)&&11!==a||(a=0),a===parseInt(e[10])}(E.split(/[\s.-]+/))||(y("CPF inv\xe1lido."),e=!1)}else y("Informe o CPF."),e=!1;if(o?b(""):(b("Informe o nome."),e=!1),U?(q(""),function(e){var t,a,n=e.charAt(0);if(11!==(e=e.replace(/[^\d]/g,"")).length&&9!==e.length||n.repeat(11)===e)return!1;9===e.length&&(e="00"+e);for(var r=0,l=0,o=9;l<=8;l++,o--)r+=o*+e[l];var c=10===(t=r%11)?-2:0;for(t>9&&(t=0),r=0,l=0,o=1;l<=8;l++,o++)r+=o*+e[l];return(a=r%11+c<0?11+r%11+c:r%11+c)>9&&(a=0),t===parseInt(e[9])&&a===parseInt(e[10])}(U)||(q("CNH inv\xe1lida."),e=!1)):(q("Informe a CNH."),e=!1),z){J("");var a=/[^\d]/,n=/^\s+|\s+$/g;if(10!==z.length)J("Data fora do padr\xe3o DD/MM/AAAA."),e=!1;else{var r=z.split("/");3!==r.length?(J("Data fora do padr\xe3o DD/MM/AAAA."),e=!1):(r[0]=r[0].replace(n,""),r[1]=r[1].replace(n,""),r[2]=r[2].replace(n,""),2===r[0].length&&2===r[1].length&&4===r[2].length||(J("Data fora do padr\xe3o DD/MM/AAAA"),e=!1),(a.test(r[0])||a.test(r[1])||a.test(r[2]))&&(J("Caracter inv\xe1lido encontrado!"),e=!1))}}else J("Informe a data de nascimento no padr\xe3o DD/MM/AAAA."),e=!1;return e}function Ke(){return(Ke=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),Ze()&&(Ye(!0),f.post("/aluno/cadastro",{nome:o,cpf:E,rg:F,nascimento:z,cnh:U,ufcnh:Z,tempocnh:le,cidade:ue,celular:pe,sexo:Oe,email:Ce,marca:Me,modelo:Pe,placa:We}).then((function(e){Ye(!1);var a=e.data,n=a.msg,r=a.dados;alert(n);var l=r._id,o=r.turma;localStorage.setItem("@webppv/aluno_id",l),localStorage.setItem("@webppv/turma_id",o),t&&t.push("/")})).catch((function(e){Ye(!1),e.response&&console.log(e.response.data.msg)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:h.a,alt:"Pilotando para Vida",className:"logo",onClick:function(){t&&t.push("/")}}),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Cadastre-se no ",r.a.createElement("strong",null,"Pilotando para Vida")),r.a.createElement("form",{onSubmit:function(e){return Ke.apply(this,arguments)}},r.a.createElement("label",{htmlFor:"nome"},"Nome*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},p),r.a.createElement("input",{type:"text",id:"nome",placeholder:"Nome",onChange:function(e){return c(e.target.value)},value:o}),r.a.createElement("label",{htmlFor:"cpf"},"CPF*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},X),r.a.createElement("input",{type:"text",id:"cpf",placeholder:"CPF no formato XXX.XXX.XXX-XX",onChange:function(e){return j(e.target.value)},value:E}),r.a.createElement("label",{htmlFor:"rg"},"RG*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},D),r.a.createElement("input",{type:"text",id:"rg",placeholder:"RG",onChange:function(e){return A(e.target.value)},value:F}),r.a.createElement("label",{htmlFor:"nascimento"},"Data de nascimento*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},V),r.a.createElement("input",{type:"text",id:"nascimento",placeholder:"Data de nascimento no formato XX/XX/XXXX",onChange:function(e){return k(e.target.value)},value:z}),r.a.createElement("label",{htmlFor:"cnh"},"CNH*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},$),r.a.createElement("input",{type:"text",id:"cnh",placeholder:"CNH",onChange:function(e){return G(e.target.value)},value:U}),r.a.createElement("label",{htmlFor:"ufcnh"},"UF da CNH*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},te),r.a.createElement("input",{type:"text",id:"ufcnh",placeholder:"UF da CNH",onChange:function(e){return K(e.target.value)},value:Z}),r.a.createElement("label",{htmlFor:"tempocnh"},"Tempo de habilita\xe7\xe3o de moto"),r.a.createElement("input",{type:"text",id:"tempocnh",placeholder:"Tempo de habilita\xe7\xe3o de moto",onChange:function(e){return oe(e.target.value)},value:le}),r.a.createElement("label",{htmlFor:"cidade"},"Cidade"),r.a.createElement("input",{type:"text",id:"cidade",placeholder:"Cidade",onChange:function(e){return se(e.target.value)},value:ue}),r.a.createElement("label",{htmlFor:"whats"},"WhatsApp*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},ge),r.a.createElement("input",{type:"text",id:"whats",placeholder:"WhatsApp (XX) xxxxx-xxxx",onChange:function(e){return fe(e.target.value)},value:pe}),r.a.createElement("label",{htmlFor:"email"},"E-mail*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},Ie),r.a.createElement("input",{type:"email",id:"email",placeholder:"E-mail",onChange:function(e){return xe(e.target.value)},value:Ce}),r.a.createElement("label",{htmlFor:"sexo"},"Sexo"),r.a.createElement("select",{name:"sexo",id:"sexo",onChange:function(e){return Se(e.target.value)},value:Oe},r.a.createElement("option",{value:"M"},"Masculino"),r.a.createElement("option",{value:"F"},"Feminino")),r.a.createElement("label",null,"Dados da moto"),r.a.createElement("label",{htmlFor:"marca"},"Marca"),r.a.createElement("input",{type:"text",id:"marca",placeholder:"Marca",onChange:function(e){return _e(e.target.value)},value:Me}),r.a.createElement("label",{htmlFor:"modelo"},"Modelo"),r.a.createElement("input",{type:"text",id:"modelo",placeholder:"Modelo",onChange:function(e){return He(e.target.value)},value:Pe}),r.a.createElement("label",{htmlFor:"placa"},"Placa*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},Le),r.a.createElement("input",{type:"text",id:"placa",placeholder:"Placa no formato XXX-XXXX",onChange:function(e){return Re(e.target.value)},value:We}),r.a.createElement("button",{type:"submit",disabled:Be},Be&&r.a.createElement("i",{className:"fa fa-cog fa-spin"}),"Cadastrar")))))}var E=a(32);function j(e){var t=e.history,a=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],l=Object(n.useState)(!1),o=Object(d.a)(l,2),c=o[0],i=o[1],u=Object(n.useState)(!0),p=Object(d.a)(u,2),b=p[0],g=p[1],v=Object(n.useState)(localStorage.getItem("@webppv/aluno_id")||""),j=Object(d.a)(v,1)[0],O=Object(n.useState)(""),S=Object(d.a)(O,2),X=S[0],y=S[1],C=Object(n.useState)(""),x=Object(d.a)(C,2),F=x[0],A=x[1],I=Object(n.useState)(""),w=Object(d.a)(I,2),D=w[0],N=w[1],M=Object(n.useState)(""),_=Object(d.a)(M,2),z=_[0],k=_[1],P=Object(n.useState)(""),H=Object(d.a)(P,2),V=H[0],J=H[1],W=Object(n.useCallback)((function(e){if(localStorage.setItem("@webppv/turma_id",e.turma._id),"ESPERA"===e.turma.descricao)y("Lista de Espera"),A("\xe0 definir"),N("\xe0 definir"),J("");else{y(e.estado),A(e.turma.endereco);var t=new Date(e.turma.data);N(t.getDate()+" de "+a[t.getMonth()]+" de "+t.getFullYear()),J(e.turma.googlemaps)}k(e.confirmar)}),[a]);function R(){return(R=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),f.get("/aluno/turma/aceitar",{headers:{aluno_id:j,turma_id:localStorage.getItem("@webppv/turma_id")}}).then((function(e){W(e.data.dados),i(!1)})).catch((function(e){i(!1),e.response&&console.log(e.response.data.msg),G()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),f.get("/aluno/turma/negar",{headers:{aluno_id:j,turma_id:localStorage.getItem("@webppv/turma_id")}}).then((function(e){200===e.status?(W(e.data.dados),i(!1),alert("Voc\xea foi transferido de turma!")):210===e.status?(i(!1),alert("Voc\xea foi removido do sistema. Caso tenha interesse em realizar o curso, realize novamente sua inscri\xe7\xe3o."),localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")):220===e.status&&(W(e.data.dados),i(!1),alert("Voc\xea j\xe1 fez o curso."))})).catch((function(e){i(!1),e.response&&console.log(e.response.data.msg),G()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")}function L(e){return r.a.createElement("div",null,r.a.createElement("p",null),r.a.createElement("label",null,"Voc\xea deve confirmar a sua presen\xe7a para que sua vaga seja garantida!"),r.a.createElement("p",null),r.a.createElement("button",{style:{width:"40%",margin:"10px"},onClick:function(){return function(){return R.apply(this,arguments)}()},disabled:c},r.a.createElement("label",null,"Sim")),r.a.createElement("button",{style:{width:"40%",margin:"10px"},onClick:function(){return function(){return U.apply(this,arguments)}()},disabled:c},r.a.createElement("label",null,"N\xe3o")))}return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.get("/aluno/turma",{headers:{aluno_id:j}}).then((function(e){g(!1),W(e.data.dados)})).catch((function(e){g(!1),e.response&&console.log(e.response.data.msg),G()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""===j?(localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")):(g(!0),function(){e.apply(this,arguments)}())}),[j,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:h.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return G()}}),r.a.createElement("div",{className:"content"},b&&r.a.createElement("div",{className:"fetching"},r.a.createElement(E.a,{color:"#F58D50",loading:b})),!b&&r.a.createElement((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{justifyContent:"center"}},X),r.a.createElement("label",{style:{fontWeight:"bold"}},"Data: "),r.a.createElement("label",{htmlFor:"data"},D),r.a.createElement("p",null),r.a.createElement("label",{style:{fontWeight:"bold"}},"Endere\xe7o: "),r.a.createElement("label",{htmlFor:"data"},F),r.a.createElement("p",null),""!==V&&r.a.createElement("center",null,r.a.createElement("iframe",{title:"GoogleMaps",src:V,style:{border:0,width:"100%",height:"200"}})),r.a.createElement("p",null),!0===z&&r.a.createElement(L,null))}),null))))}function O(){return r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/login",component:g}),r.a.createElement(i.a,{path:"/cad",component:v}),r.a.createElement(i.a,{path:"/",exact:!0,component:j})))}a(61);var S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null))};o.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.9ce68502.chunk.js.map