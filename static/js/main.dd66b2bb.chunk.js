(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/logo.90f64a36.png"},33:function(e,t,a){e.exports=a(62)},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),o=a.n(l),c=a(15),i=a(10),u=a(5),s=a.n(u),m=a(9),d=a(2),p=a(29),f=a.n(p).a.create({baseURL:"https://backppv.herokuapp.com",timeout:3e4}),b=a(12),h=a.n(b);function g(e){var t=e.history,a=Object(n.useState)(""),l=Object(d.a)(a,2),o=l[0],i=l[1],u=Object(n.useState)(""),p=Object(d.a)(u,2),b=p[0],g=p[1],v=Object(n.useState)(""),E=Object(d.a)(v,2),j=E[0],O=E[1],S=Object(n.useState)(""),X=Object(d.a)(S,2),y=X[0],C=X[1],x=Object(n.useState)(""),F=Object(d.a)(x,2),A=F[0],I=F[1],w=Object(n.useState)(!1),D=Object(d.a)(w,2),N=D[0],M=D[1];function _(){var e=!0;if(b?C(""):(C("Informe a CNH."),e=!1),j){I("");var t=/[^\d]/,a=/^\s+|\s+$/g;if(10!==j.length)I("Data fora do padr\xe3o DD/MM/AAAA."),e=!1;else{var n=j.split("/");3!==n.length?(I("Data fora do padr\xe3o DD/MM/AAAA."),e=!1):(n[0]=n[0].replace(a,""),n[1]=n[1].replace(a,""),n[2]=n[2].replace(a,""),2===n[0].length&&2===n[1].length&&4===n[2].length||(I("Data fora do padr\xe3o DD/MM/AAAA"),e=!1),(t.test(n[0])||t.test(n[1])||t.test(n[2]))&&(I("Caracter inv\xe1lido encontrado!"),e=!1))}}else I("Informe a data de nascimento."),e=!1;return e}function z(){return(z=Object(m.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(""),a.preventDefault(),_()&&(M(!0),f.get("/login",{headers:{cnh:b,nascimento:j}}).then((function(e){M(!1);var a=e.data.dados._id;localStorage.setItem("@webppv/aluno_id",a),t&&t.push("/")})).catch((function(e){M(!1),e.response&&i(e.response.data.msg)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:h.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return localStorage.removeItem("@webppv/aluno_id"),void localStorage.removeItem("@webppv/turma_id")}}),r.a.createElement("div",{className:"content"},r.a.createElement("form",{onSubmit:function(e){return z.apply(this,arguments)}},r.a.createElement("label",{htmlFor:"cnh"},"CNH*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},y),r.a.createElement("input",{type:"text",id:"cnh",placeholder:"CNH",onChange:function(e){return g(e.target.value)},value:b}),r.a.createElement("label",{htmlFor:"nascimento"},"Data de nascimento*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},A),r.a.createElement("input",{type:"text",id:"nascimento",placeholder:"Data de nascimento",onChange:function(e){return O(e.target.value)},value:j}),r.a.createElement("div",{style:{fontSize:12,color:"red"}},o),r.a.createElement("button",{type:"submit",disabled:N},N&&r.a.createElement("i",{className:"fa fa-refresh fa-spin"}),"Entrar")),r.a.createElement("p",null),r.a.createElement(c.b,{to:"/cad"},r.a.createElement("button",null,"Cadastro")))))}function v(e){var t=e.history,a="WEBPPV:Cadastro",l=Object(n.useState)(""),o=Object(d.a)(l,2),c=o[0],i=o[1],u=Object(n.useState)(""),p=Object(d.a)(u,2),b=p[0],g=p[1],v=Object(n.useState)(""),E=Object(d.a)(v,2),j=E[0],O=E[1],S=Object(n.useState)(""),X=Object(d.a)(S,2),y=X[0],C=X[1],x=Object(n.useState)(""),F=Object(d.a)(x,2),A=F[0],I=F[1],w=Object(n.useState)(""),D=Object(d.a)(w,2),N=D[0],M=D[1],_=Object(n.useState)(""),z=Object(d.a)(_,2),P=z[0],k=z[1],H=Object(n.useState)(""),V=Object(d.a)(H,2),W=V[0],J=V[1],R=Object(n.useState)(""),U=Object(d.a)(R,2),G=U[0],L=U[1],B=Object(n.useState)(""),T=Object(d.a)(B,2),$=T[0],q=T[1],Y=Object(n.useState)(""),Z=Object(d.a)(Y,2),K=Z[0],Q=Z[1],ee=Object(n.useState)(""),te=Object(d.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useState)(""),le=Object(d.a)(re,2),oe=le[0],ce=le[1],ie=Object(n.useState)(""),ue=Object(d.a)(ie,2),se=ue[0],me=ue[1],de=Object(n.useState)(""),pe=Object(d.a)(de,2),fe=pe[0],be=pe[1],he=Object(n.useState)(""),ge=Object(d.a)(he,2),ve=ge[0],Ee=ge[1],je=Object(n.useState)(""),Oe=Object(d.a)(je,2),Se=Oe[0],Xe=Oe[1],ye=Object(n.useState)(""),Ce=Object(d.a)(ye,2),xe=Ce[0],Fe=Ce[1],Ae=Object(n.useState)(""),Ie=Object(d.a)(Ae,2),we=Ie[0],De=Ie[1],Ne=Object(n.useState)(""),Me=Object(d.a)(Ne,2),_e=Me[0],ze=Me[1],Pe=Object(n.useState)(""),ke=Object(d.a)(Pe,2),He=ke[0],Ve=ke[1],We=Object(n.useState)(""),Je=Object(d.a)(We,2),Re=Je[0],Ue=Je[1],Ge=Object(n.useState)(""),Le=Object(d.a)(Ge,2),Be=Le[0],Te=Le[1],$e=Object(n.useState)(!1),qe=Object(d.a)($e,2),Ye=qe[0],Ze=qe[1];function Ke(){console.log(a+":validateForm inside");var e=!0;if(Re){Te(""),8!==Re.length&&(Te("Placa fora do padr\xe3o XXX-XXXX."),e=!1);/^[a-z,A-Z]{3}-\d.\d{2}/.test(Re)||(Te("Placa fora do padr\xe3o XXX-XXXX."),e=!1)}else Te("Informe a placa da moto no padr\xe3o XXX-XXXX."),e=!1;if(xe?De(""):(De("Informe o email."),e=!1),fe?Ee(""):(Ee("Informe o WhastApp."),e=!1),K?(ne(""),2!==K.length&&(ne("Informe a sigla da unidade federativa da CNH."),e=!1)):(ne("Informe a Unidade Federativa da CNH."),e=!1),A?M(""):(M("Informe o rg."),e=!1),j){C("");var t=j.split(".");if(3!==t.length)C("Informe o CPF no formato XXX.XXX.XXX-XX"),e=!1;else 2!==t[2].split("-").length?(C("Informe o d\xedgito do CPF."),e=!1):function(e){if("00000000000"===(e=(e=e[0]+e[1]+e[2]+e[3]).split("")))return!1;var t,a,n;for(t=0,n=0;n<9;n++)t+=e[n]*(10-n);if(10!==(a=10*t%11)&&11!==a||(a=0),a!==parseInt(e[9]))return!1;for(t=0,n=0;n<10;n++)t+=e[n]*(11-n);return 10!==(a=10*t%11)&&11!==a||(a=0),a===parseInt(e[10])}(j.split(/[\s.-]+/))||(C("CPF inv\xe1lido."),e=!1)}else C("Informe o CPF."),e=!1;if(c?g(""):(g("Informe o nome."),e=!1),G?(q(""),function(e){var t,a,n=e.charAt(0);if(11!==(e=e.replace(/[^\d]/g,"")).length&&9!==e.length||n.repeat(11)===e)return!1;9===e.length&&(e="00"+e);for(var r=0,l=0,o=9;l<=8;l++,o--)r+=o*+e[l];var c=10===(t=r%11)?-2:0;for(t>9&&(t=0),r=0,l=0,o=1;l<=8;l++,o++)r+=o*+e[l];return(a=r%11+c<0?11+r%11+c:r%11+c)>9&&(a=0),t===parseInt(e[9])&&a===parseInt(e[10])}(G)||(q("CNH inv\xe1lida."),e=!1)):(q("Informe a CNH."),e=!1),P){J("");var n=/[^\d]/,r=/^\s+|\s+$/g;if(10!==P.length)J("Data fora do padr\xe3o DD/MM/AAAA."),e=!1;else{var l=P.split("/");3!==l.length?(J("Data fora do padr\xe3o DD/MM/AAAA."),e=!1):(l[0]=l[0].replace(r,""),l[1]=l[1].replace(r,""),l[2]=l[2].replace(r,""),2===l[0].length&&2===l[1].length&&4===l[2].length||(J("Data fora do padr\xe3o DD/MM/AAAA"),e=!1),(n.test(l[0])||n.test(l[1])||n.test(l[2]))&&(J("Caracter inv\xe1lido encontrado!"),e=!1))}}else J("Informe a data de nascimento no padr\xe3o DD/MM/AAAA."),e=!1;return e}function Qe(){return(Qe=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a+":handleSubmit:"+n),n.preventDefault(),Ke()&&(Ze(!0),f.post("/aluno/cadastro",{nome:c,cpf:j,rg:A,nascimento:P,cnh:G,ufcnh:K,tempocnh:oe,cidade:se,celular:fe,sexo:Se,email:xe,marca:_e,modelo:He,placa:Re}).then((function(e){Ze(!1);var a=e.data,n=a.msg,r=a.dados;alert(n);var l=r._id,o=r.turma;localStorage.setItem("@webppv/aluno_id",l),localStorage.setItem("@webppv/turma_id",o),t&&t.push("/")})).catch((function(e){Ze(!1),e.response&&console.log(e.response.data.msg)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:h.a,alt:"Pilotando para Vida",className:"logo",onClick:function(){return console.log(a+":handleLogout"),void(t&&t.push("/"))}}),r.a.createElement("div",{className:"content"},r.a.createElement("p",null,"Cadastre-se no ",r.a.createElement("strong",null,"Pilotando para Vida")),r.a.createElement("form",{onSubmit:function(e){return Qe.apply(this,arguments)}},r.a.createElement("label",{htmlFor:"nome"},"Nome*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},b),r.a.createElement("input",{type:"text",id:"nome",placeholder:"Nome",onChange:function(e){return i(e.target.value)},value:c}),r.a.createElement("label",{htmlFor:"cpf"},"CPF*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},y),r.a.createElement("input",{type:"text",id:"cpf",placeholder:"CPF no formato XXX.XXX.XXX-XX",onChange:function(e){return O(e.target.value)},value:j}),r.a.createElement("label",{htmlFor:"rg"},"RG*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},N),r.a.createElement("input",{type:"text",id:"rg",placeholder:"RG",onChange:function(e){return I(e.target.value)},value:A}),r.a.createElement("label",{htmlFor:"nascimento"},"Data de nascimento*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},W),r.a.createElement("input",{type:"text",id:"nascimento",placeholder:"Data de nascimento no formato XX/XX/XXXX",onChange:function(e){return k(e.target.value)},value:P}),r.a.createElement("label",{htmlFor:"cnh"},"CNH*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},$),r.a.createElement("input",{type:"text",id:"cnh",placeholder:"CNH",onChange:function(e){return L(e.target.value)},value:G}),r.a.createElement("label",{htmlFor:"ufcnh"},"UF da CNH*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},ae),r.a.createElement("input",{type:"text",id:"ufcnh",placeholder:"UF da CNH",onChange:function(e){return Q(e.target.value)},value:K}),r.a.createElement("label",{htmlFor:"tempocnh"},"Tempo de habilita\xe7\xe3o de moto"),r.a.createElement("input",{type:"text",id:"tempocnh",placeholder:"Tempo de habilita\xe7\xe3o de moto",onChange:function(e){return ce(e.target.value)},value:oe}),r.a.createElement("label",{htmlFor:"cidade"},"Cidade"),r.a.createElement("input",{type:"text",id:"cidade",placeholder:"Cidade",onChange:function(e){return me(e.target.value)},value:se}),r.a.createElement("label",{htmlFor:"whats"},"WhatsApp*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},ve),r.a.createElement("input",{type:"text",id:"whats",placeholder:"WhatsApp (XX) xxxxx-xxxx",onChange:function(e){return be(e.target.value)},value:fe}),r.a.createElement("label",{htmlFor:"email"},"E-mail*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},we),r.a.createElement("input",{type:"email",id:"email",placeholder:"E-mail",onChange:function(e){return Fe(e.target.value)},value:xe}),r.a.createElement("label",{htmlFor:"sexo"},"Sexo"),r.a.createElement("select",{name:"sexo",id:"sexo",onChange:function(e){return Xe(e.target.value)},value:Se},r.a.createElement("option",{value:"M"},"Masculino"),r.a.createElement("option",{value:"F"},"Feminino")),r.a.createElement("label",null,"Dados da moto"),r.a.createElement("label",{htmlFor:"marca"},"Marca"),r.a.createElement("input",{type:"text",id:"marca",placeholder:"Marca",onChange:function(e){return ze(e.target.value)},value:_e}),r.a.createElement("label",{htmlFor:"modelo"},"Modelo"),r.a.createElement("input",{type:"text",id:"modelo",placeholder:"Modelo",onChange:function(e){return Ve(e.target.value)},value:He}),r.a.createElement("label",{htmlFor:"placa"},"Placa*"),r.a.createElement("div",{style:{fontSize:12,color:"red"}},Be),r.a.createElement("input",{type:"text",id:"placa",placeholder:"Placa no formato XXX-XXXX",onChange:function(e){return Ue(e.target.value)},value:Re}),r.a.createElement("button",{type:"submit",disabled:Ye},Ye&&r.a.createElement("i",{className:"fa fa-cog fa-spin"}),"Cadastrar")))))}var E=a(32);function j(e){var t=e.history,a=["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],l=Object(n.useState)(!1),o=Object(d.a)(l,2),c=o[0],i=o[1],u=Object(n.useState)(!0),p=Object(d.a)(u,2),b=p[0],g=p[1],v=Object(n.useState)(localStorage.getItem("@webppv/aluno_id")||""),j=Object(d.a)(v,1)[0],O=Object(n.useState)(""),S=Object(d.a)(O,2),X=S[0],y=S[1],C=Object(n.useState)(""),x=Object(d.a)(C,2),F=x[0],A=x[1],I=Object(n.useState)(""),w=Object(d.a)(I,2),D=w[0],N=w[1],M=Object(n.useState)(""),_=Object(d.a)(M,2),z=_[0],P=_[1],k=Object(n.useState)(""),H=Object(d.a)(k,2),V=H[0],W=H[1],J=Object(n.useCallback)((function(e){if(localStorage.setItem("@webppv/turma_id",e.turma._id),"ESPERA"===e.turma.descricao)y("Lista de Espera"),A("\xe0 definir"),N("\xe0 definir"),W("");else{y(e.estado),A(e.turma.endereco);var t=new Date(e.turma.data);N(t.getDate()+" de "+a[t.getMonth()]+" de "+t.getFullYear()),W(e.turma.googlemaps)}P(e.confirmar)}),[a]);function R(){return(R=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),f.get("/aluno/turma/aceitar",{headers:{aluno_id:j,turma_id:localStorage.getItem("@webppv/turma_id")}}).then((function(e){J(e.data.dados),i(!1)})).catch((function(e){i(!1),e.response&&console.log(e.response.data.msg),G()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),f.get("/aluno/turma/negar",{headers:{aluno_id:j,turma_id:localStorage.getItem("@webppv/turma_id")}}).then((function(e){200===e.status?(J(e.data.dados),i(!1),alert("Voc\xea foi transferido de turma!")):210===e.status?(i(!1),alert("Voc\xea foi removido do sistema. Caso tenha interesse em realizar o curso, realize novamente sua inscri\xe7\xe3o."),localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")):220===e.status&&(J(e.data.dados),i(!1),alert("Voc\xea j\xe1 fez o curso."))})).catch((function(e){i(!1),e.response&&console.log(e.response.data.msg),G()}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")}function L(e){return r.a.createElement("div",null,r.a.createElement("p",null),r.a.createElement("label",null,"Voc\xea deve confirmar a sua presen\xe7a para que sua vaga seja garantida!"),r.a.createElement("p",null),r.a.createElement("button",{style:{width:"40%",margin:"10px"},onClick:function(){return function(){return R.apply(this,arguments)}()},disabled:c},r.a.createElement("label",null,"Sim")),r.a.createElement("button",{style:{width:"40%",margin:"10px"},onClick:function(){return function(){return U.apply(this,arguments)}()},disabled:c},r.a.createElement("label",null,"N\xe3o")))}return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.get("/aluno/turma",{headers:{aluno_id:j}}).then((function(e){g(!1),J(e.data.dados)})).catch((function(e){g(!1),e.response&&console.log(e.response.data.msg),G()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""===j?(localStorage.removeItem("@webppv/aluno_id"),localStorage.removeItem("@webppv/turma_id"),t&&t.push("/login")):(g(!0),function(){e.apply(this,arguments)}())}),[j,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:h.a,style:{cursor:"pointer"},alt:"Pilotando para Vida",className:"logo",onClick:function(){return G()}}),r.a.createElement("div",{className:"content"},b&&r.a.createElement("div",{className:"fetching"},r.a.createElement(E.a,{color:"#F58D50",loading:b})),!b&&r.a.createElement((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{justifyContent:"center"}},X),r.a.createElement("label",{style:{fontWeight:"bold"}},"Data: "),r.a.createElement("label",{htmlFor:"data"},D),r.a.createElement("p",null),r.a.createElement("label",{style:{fontWeight:"bold"}},"Endere\xe7o: "),r.a.createElement("label",{htmlFor:"data"},F),r.a.createElement("p",null),""!==V&&r.a.createElement("center",null,r.a.createElement("iframe",{title:"GoogleMaps",src:V,style:{border:0,width:"100%",height:"200"}})),r.a.createElement("p",null),!0===z&&r.a.createElement(L,null))}),null))))}function O(){return r.a.createElement(c.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/login",component:g}),r.a.createElement(i.a,{path:"/cad",component:v}),r.a.createElement(i.a,{path:"/",exact:!0,component:j})))}a(61);var S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,null))};o.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.dd66b2bb.chunk.js.map